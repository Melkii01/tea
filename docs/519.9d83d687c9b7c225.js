"use strict";(self.webpackChunkTEA=self.webpackChunkTEA||[]).push([[519],{6519:(F,p,c)=>{c.r(p),c.d(p,{ProductsModule:()=>A});var u=c(6895),i=c(646),l=c(727),m=c(5577),h=c(8505),t=c(8256),d=c(8104),g=c(99);let v=(()=>{class e{transform(o){let r="";return o.length<=100?r=o:o.length>100&&(r=o.slice(0,100)+"..."),r}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275pipe=t.Yjl({name:"textLengthPipe",type:e,pure:!0}),e})();const P=function(e){return{product:e}},b=function(e){return["/products",e]};let x=(()=>{class e{constructor(){this.product={}}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["product-card-component"]],inputs:{product:"product"},features:[t._Bn([d.D])],decls:13,vars:11,consts:[[1,"card","h-100","w-100","my-border","col","d-flex","hvr-float-shadow","text-center","justify-content-center"],["alt","Image",1,"zoom",3,"src"],[1,"card-body","p-3","text-center"],[1,"card-title","fw-bold","mb-2"],[1,"card-text","mb-3"],[1,"product-action","text-center","d-flex","flex-column"],["routerLink","/order",1,"btn","btn-primary","w-50","align-self-center","mb-2",3,"queryParams"],[1,"btn-card","btn","btn-transparent","w-50","align-self-center",3,"routerLink"]],template:function(o,r){1&o&&(t.TgZ(0,"div",0),t._UZ(1,"img",1),t.TgZ(2,"div",2)(3,"h5",3),t._uU(4),t.qZA(),t.TgZ(5,"p",4),t._uU(6),t.ALo(7,"textLengthPipe"),t.qZA(),t.TgZ(8,"div",5)(9,"a",6),t._uU(10,"\u041a\u0443\u043f\u0438\u0442\u044c"),t.qZA(),t.TgZ(11,"a",7),t._uU(12,"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"),t.qZA()()()()),2&o&&(t.xp6(1),t.s9C("src",r.product.image,t.LSH),t.xp6(3),t.Oqu(r.product.title),t.xp6(2),t.Oqu(t.lcZ(7,5,r.product.description)),t.xp6(3),t.Q6J("queryParams",t.VKq(7,P,r.product.title)),t.xp6(2),t.Q6J("routerLink",t.VKq(9,b,r.product.id)))},dependencies:[i.yS,v]}),e})();function y(e,n){1&e&&t._UZ(0,"product-card-component",4),2&e&&t.Q6J("product",n.$implicit)}const w=function(e){return{product:e}};function C(e,n){if(1&e&&(t.TgZ(0,"div",1)(1,"div",2),t._UZ(2,"img",3),t.TgZ(3,"div",4)(4,"h5",5),t._uU(5),t.qZA(),t.TgZ(6,"h5",5),t._uU(7),t.ALo(8,"currency"),t.qZA(),t.TgZ(9,"p",6),t._uU(10),t.qZA(),t.TgZ(11,"div",7)(12,"a",8),t._uU(13,"\u041a\u0443\u043f\u0438\u0442\u044c"),t.qZA()()()()()),2&e){const o=t.oxw();t.xp6(2),t.s9C("src",o.product.image,t.LSH),t.xp6(3),t.Oqu(o.product.title),t.xp6(2),t.Oqu(t.xi3(8,5,o.product.price,"RU")),t.xp6(3),t.Oqu(o.product.description),t.xp6(2),t.Q6J("queryParams",t.VKq(8,w,o.product.title))}}const Z=[{path:"",component:(()=>{class e{constructor(o,r,s,a){this.dataService=o,this.router=r,this.activatedRoute=s,this.loadingShowService=a,this.products=[],this.subs=new l.w0,this.loaderState=!1,this.title="\u041d\u0430\u0448\u0438 \u0447\u0430\u0439\u043d\u044b\u0435 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438"}ngOnInit(){this.initLoader(),this.initProducts()}ngOnDestroy(){this.subs?.unsubscribe()}initLoader(){this.subs.add(this.loadingShowService.getLoaderState().subscribe(o=>{this.loaderState=o}))}initProducts(){let o="";this.subs.add(this.activatedRoute.queryParams.pipe((0,m.z)(r=>(this.loadingShowService.loaderVisible(),o="",r.search&&(o=r.search),this.dataService.getProducts(o))),(0,h.b)(()=>{this.loadingShowService.loaderHide(),this.products=[]})).subscribe({next:r=>{this.title=o?0===r.length?"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e":'\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u043e\u0438\u0441\u043a\u0430 \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 "'+o+'"':"\u041d\u0430\u0448\u0438 \u0447\u0430\u0439\u043d\u044b\u0435 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438",this.products=r},error:r=>{console.log(r),this.router.navigate(["/"])},complete:()=>this.loadingShowService.loaderHide()}))}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(d.D),t.Y36(i.F0),t.Y36(i.gz),t.Y36(g.F))},e.\u0275cmp=t.Xpm({type:e,selectors:[["products-component"]],decls:6,vars:2,consts:[[1,"container","pb-5","pt-5"],[1,"fw-bold","text-center","mb-3"],[1,"row","row-cols-1","row-cols-sm-1","row-cols-md-2","row-cols-lg-3","row-cols-xl-4","mb-5","g-3"],[3,"product",4,"ngFor","ngForOf"],[3,"product"]],template:function(o,r){1&o&&(t.TgZ(0,"section")(1,"div",0)(2,"h2",1),t._uU(3),t.qZA(),t.TgZ(4,"div",2),t.YNc(5,y,1,1,"product-card-component",3),t.qZA()()()),2&o&&(t.xp6(3),t.Oqu(r.title),t.xp6(2),t.Q6J("ngForOf",r.products))},dependencies:[u.sg,x]}),e})()},{path:":id",component:(()=>{class e{constructor(o,r,s,a){this.dataService=o,this.activatedRoute=r,this.router=s,this.loadingShowService=a,this.subs=new l.w0}ngOnInit(){this.initProducts()}ngOnDestroy(){this.subs?.unsubscribe()}initProducts(){let o="";this.subs.add(this.activatedRoute.params.pipe((0,m.z)(r=>{this.loadingShowService.loaderVisible(),o="";const s=r.id;return s&&(o=s),this.dataService.getProduct(o)}),(0,h.b)(()=>{this.loadingShowService.loaderHide()})).subscribe({next:r=>{r?this.product=r:this.router.navigate(["/"])},error:r=>{this.router.navigate(["/"])},complete:()=>this.loadingShowService.loaderHide()}))}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(d.D),t.Y36(i.gz),t.Y36(i.F0),t.Y36(g.F))},e.\u0275cmp=t.Xpm({type:e,selectors:[["product-component"]],decls:1,vars:1,consts:[["class","d-flex justify-content-center pt-5",4,"ngIf"],[1,"d-flex","justify-content-center","pt-5"],[1,"card","my-border","d-flex","text-center","justify-content-center"],["alt","Image",1,"zoom","align-self-center",3,"src"],[1,"card-body","p-3","text-center"],[1,"card-title","fw-bold","mb-2"],[1,"card-text","mb-3"],[1,"product-action","text-center","d-flex","flex-column"],["routerLink","/order",1,"btn","btn-primary","w-50","align-self-center","mb-2",3,"queryParams"]],template:function(o,r){1&o&&t.YNc(0,C,14,10,"div",0),2&o&&t.Q6J("ngIf",r.product)},dependencies:[u.O5,i.yS,u.H9],styles:[".card[_ngcontent-%COMP%]{max-width:1000px;background-color:transparent}.zoom[_ngcontent-%COMP%]{max-width:500px}"]}),e})()}];let f=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[i.Bz.forChild(Z),i.Bz]}),e})();var T=c(4466);let A=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[u.ez,T.m,i.Bz,f,f]}),e})()}}]);